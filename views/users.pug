extends layout

block content

  h1 List of users
  button(onclick='showAddUserForm()') Add new user
  table
    thead
      tr 
        th Name
        th Last Name
        th Email
        th Age
        th Edit
        th Delete
    tbody(id='table_body')
      each user in users 
        tr(id= user.id)
          td(class='userName')= user.userName
          td(class='userSurname')= user.userSurname
          td(class='email')= user.email
          td(class='age')= user.age
          td
            input(type= 'submit' value= 'Edit' onclick='editUserForm(this.parentNode.parentNode.id)')
          td 
            input(type= 'submit' value= 'Delete' onclick='sendDeleteRequest(this.parentNode.parentNode.id)')

  div(id='create_user' style='display: none')
    h2 Add New User
    form(action = '/users', method='POST' target='_parent')
      label(for="userName") Name
      input(type="text" name="userName" required)
      label(for="userSurname") Last Name
      input(type="text" name="userSurname" required)
      label(for="email") Email
      input(type="email" name="email" required)
      label(for="age") Age
      input(type="number" name="age" required)
      input(type="submit" value="Add user") 

  div(id='edit_user' style='display: none')
    h2 Edit User
    form(action = '/users/edit', method='POST')
      input(type="hidden" name="id" id="edit_id")
      label(for="userName") Name
      input(type="text" name="userName" required id="edit_userName")
      label(for="userSurname") Last Name
      input(type="text" name="userSurname" required id="edit_userSurname")
      label(for="email") Email
      input(type="email" name="email" required id="edit_email")
      label(for="age") Age
      input(type="number" name="age" required id="edit_age")
      input(type="submit" value="Edit user") 
